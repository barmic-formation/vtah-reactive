<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Système réactif</title>
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/beige.css" id="theme">
	<link rel="stylesheet" href="css/custom.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/solarized-light.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<!-- Intro -->
			<section>
				<section data-background-color="white" data-background="img/title.png" data-background-size="100%">
					<aside class="notes">
					</aside>
				</section>

				<section>
					<!--<img class="plain" src="img/you_are_here.png" height="150">-->
					<h3>Hajime !</h3>

					<img src="https://media.giphy.com/media/XJnWzyYpQpZ2U/giphy.gif" class="stretch plain" />
					<aside class="notes">
					</aside>
				</section>
			</section>

			<!-- Partie 1 - Ceinture blanche : Qu'est-ce que le réactif ? -->
			<section>
				<section>
					<h2>Asynchrone</h2>
					<img src="img/ceinture-blanche.gif" class="stretch plain">
					<aside class="notes">
						Ça vous parle ?
					</aside>
				</section>
				<section data-transition="none">
					<h2>Le monde est asynchrone</h2>
					<img src="img/async1.svg" class="stretch plain" >
					<aside class="notes">
					</aside>
				</section>
				<section data-transition="none">
					<h2>Le monde est asynchrone</h2>
					<img src="img/async2.svg" class="stretch plain" >
					<aside class="notes">
					</aside>
				</section>
				<section>
					<h2>Reactive manifesto</h2>
					<img src="img/manifesto.jpeg" class="stretch plain">
					<aside class="notes">
						<ul>
							<li>Message driven</li>
							<li>Elastic</li>
							<li>Resilient</li>
							<li>Responsive</li>
						</ul>
					</aside>
				</section>
				<section>
					<h2>Message driven</h2>
					<img src="img/message-driven.svg" class="stretch plain"/>
					<aside class="notes">
						Considérer toutes les intéractions de notre logiciel comme des évènements que l'on reçoit ou que l'on émet.
					</aside>
				</section>
				<section>
					<h2>Resilient</h2>
					<img src="img/resilient.gif" class="stretch plain"/>
					<aside class="notes">
						C'est la capacité à résister aux pannes.
						L'asynchrone fourni un découplage permettant de survivre aux ralentissement voir aux pannes via de la gestion d'erreur.
						On considérera les erreurs comme un nouvel évènement que l'on reçoit.
					</aside>
				</section>
				<section>
					<h2>Elastic</h2>
					<img src="https://qph.ec.quoracdn.net/main-qimg-58e4012a420e0237c6acd19530af791d-c" class="stretch plain"/>
					<aside class="notes">
						C'est la capacité à scaler horizontalement.
						On peut multiplier notre instance pour gérer plus d'évènements.
						Lorsque l'on utilise de l'asynchrone on peut découpler l'émetteur d'un message de son récepteur.
					</aside>
				</section>
				<section>
					<h2>Responsive</h2>
					<img src="https://blog.aircall.io/wp-content/uploads/2016/11/contact-center-vs.-call-center.png" class="stretch plain"/>
					<aside class="notes">
						C'est la capacité du système à toujours répondre.
						Le fait d'avoir un système elastique et résilient donne presque de facto cette propriété.
					</aside>
				</section>
			</section>

			<!-- Partie 2 - Ceinture bleue : Programmation réactive -->
			<section>
				<section>
					<!-- TODO rework -->
					<h2>Programmation reactive</h2>
					<img src="https://www.dragonsports.eu/373821-verylarge_default/kimono-judo-toile-dojo-master-dmkj909.jpg" class="stretch plain"/>
				</section>
				<section>
					<!-- TODO rework -->
					<h2>Programmation reactive</h2>
					<ul>
						<li>Reactive eXtension</li>
						<li>Stream processing</li>
						<li>Modèle de thread</li>
						<li>Objectif</li>
					</ul>
				</section>
				<section>
					<h2>Comment modéliser un flux de données ?</h2>
					<h3>Marble diagrams</h2>
				</section>
				<section>
						<h2>Stream simple</h2>
						<img src="img/marble_ex_1.svg" class="marble-dig" alt="">
				</section>
				<section>
						<h2>Stream avec erreur</h2>
						<img src="img/marble_ex_2.svg" class="marble-dig" alt="">
				</section>
				<section>
					<h2>Stream avec opération</h2>
						<img src="img/marble_ex_3.svg" class="marble-dig" alt="">
				</section>
				<section>
					<h2>Et en RX ?</h2>
					<pre>
						<code>Observable.of('A','B','C')
    .map(value => value.toLowerCase())
    .catch((err=>console.error(err.message)))
    .subscribe(value => console.log(value));
						</code>
					</pre>
					<h6>Result</h6>
					<pre>
'a'
'b'
'c'
					</pre>
				</section>
				<section>
				<h2>Mais pourquoi faire ça ?</h2>
				<ul>
					<li>Eviter le callback hell</li>
					<li>Gérer de multiples évenememnts</li>
					<li>Avoir une approche déclarative</li>
					<aside class="notes">
						L'approche déclarative permet d'indiquer le résultat que l'on veut à chaque opération 
						et non pas la manière de l'obtenir.
					</aside>
					<li>Facilter la programmation fonctionnelle</li>
					<aside class="notes">
						Le opérateurs fourni par RX sont pour la grande majorité prévus pour 
						suivre les pradigmes de la programmation fonctiuonnel 
						- Des fonctions comme paramètre des opérateurs 
						- Création d'un nouveau stream à chaque retour d'un opérateur
					</aside>
				</ul>
				</section>
				<section>
						<h2>Mais à quel point est-ce puissant ?</h2>
				</section>
				<section>
					<h2>Example 1 : Handle async requests</h2>
					<h4>eazy peazy</h4>
				</section>
				<section>
					<pre>
						<code>
							<!-- TODO -->
CODE angular, de la requete jusqu'au template, 
mise en cache avec un share (transformation en observable HOT)
						</code>
					</pre>
				</section>
				<section>
					<h2>Example 2 : Handle multiple clicks on button</h2>
					<h4>eazy peazy</h4>
				</section>
				<section>
					<pre>
						<code>
						<!-- TODO -->
CODE JS, transformation d'un event en observable, handle du double click 
						</code>
					</pre>
				</section>
				<section>
					<h2>Conseils</h2>
					<ul>
						<li class="fragment">Distinguer Rx des autres API de stream</li>
						<li class="fragment">peut devenir complexe → expérimentez !</li>
						<li class="fragment">Penser stream processing !</li>
					</ul>
				</section>
			</section>

			<!-- Partie 3 - Ceinture noire : Système réactif -->
			<section>
				<section>
					<h2>Système réactif</h2>
					<!-- Amandine Buchard -->
					<img class="stretch" src="http://combat.blog.lemonde.fr/files/2013/01/DSC_0018-1024x682.jpg" />
				</section>
				<section>
					<h2>Kezako?</h2>
					<img class="stretch plain" src="img/message-driven.svg"/>
				</section>
				<section>
					<h2>Kezako?</h2>
					<img class="stretch plain" src="img/systeme-reactif.svg"/>
				</section>
				<section>
					<h2>Pattern reactor</h2>
					<img class="stretch plain" src="img/reactor.svg"/>
				</section>
				<section>
					<img src="img/stop.svg" class="stretch plain" />
					<p>NE JAMAIS BLOQUER L'EVENT LOOP!</p>
				</section>
				<!-- front -->
				<section>
					<h2>Implémentation front : Redux</h2>
					<img class="stretch plain" src="https://cdn-images-1.medium.com/max/919/1*EdiFUfbTNmk_IxFDNqokqg.png" />
				</section>
				<section>
					<h2>Intérêts</h2>
					<img class="stretch plain" src="https://cdn.css-tricks.com/wp-content/uploads/2016/03/redux-article-3-03.svg" />
				</section>
				<section>
					<h2>Intérêts</h2>
					<ul>
						<li>Simplicité de l'état de l'application</li>
						<li>Possibilité de rejouer les évènements</li>
						<li>Utilisation de fonctions pures pour la logique métier</li>
					</ul>
				</section>
				<!-- back -->
				<section>
					<h2>Implémentation back: Vertx</h2>
					<img class="stretch plain" src="img/vertx.svg" />
				</section>
				<section>
					<h2>Intérêts</h2>
					<ul>
						<li>montée en charge</li>
						<li>souplesse architecturale<br/>
						« Diminuer le couplage tout en augmentant la cohérence »</li>
					</ul>
				</section>
				<section>
					<h2>REX/Conseils</h2>
					<ul>
						<li class="fragment">NE JAMAIS BLOQUER L'EVENT LOOP!</li>
						<li class="fragment">attention aux backpressure</li>
						<li class="fragment">garder un œil sur les threads utilisés</li>
						<li class="fragment">les tests d'intégration</li>
					</ul>
				</section>
			</section>

			<!-- Part 4 - Aller plus loin -->
			<section>
				<section>
					<h2>Conclusion</h2>
					<ul>
						<li>NE JAMAIS BLOQUER L'EVENT LOOP!</li>
						<li>changement fort de paradigme</li>
						<li>s'intégre parfaitement avec CQRS/ES, une architecture hexagonale</li>
						<li>outillage varié et « à la mode » et très puissants (Message broker, API asynchrone,…)</li>
					</ul>
				</section>
				<section>
					<h3>Liens intéressants</h3>
					<ul>
						<li><a href="https://linuxfr.org/users/dramdur/journaux/des-vieilles-bases-d-unix-a-la-hype-reactive-actuelle">Des vieilles bases d'unix à la hype reactive actuelle</a></li>
						<li><a href="https://vertx.io/docs/vertx-core/java/">Documentation de Vertx code</a></li>
						<li><a href="https://blog.octo.com/la-revolution-reactive/">La révolution réactive !</a></li>
						<li><a href="https://blog.octo.com/multitaches-ou-reactif/">Multitâche ou réactif</a></li>
						<li><a href="http://reactive.how/">Comprendre les opérateurs Rx</a></li>
					</ul>
				</section>
				<section>
					<h3>Pour aller plus loin</h3>
					<ul>
						<ul>Functional Reactive Programming</ul>
						<li>système à Actor (comme Akka ou Erlang)</li>
						<li>green thread</li>
					</ul>
					<aside class="notes">
					</aside>
				</section>

				<section>
					<h2>Questions ?</h2>
					<img src="https://media.giphy.com/media/8TCmfXE9mY9ck/giphy.gif" class="stretch plain" />
				</section>
			</section>

			<section>
				<h2>Licence</h2>
				Pour ce qui concerne tous les contenus que nous avons produits dans cette présentation :
				<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Dataset" property="dct:title" rel="dct:type">Devenez ceinture noire de système réactif</span> de <a xmlns:cc="http://creativecommons.org/ns#" href="https://barmic-slides.github.io/vtah-reactive/index.html#/" property="cc:attributionName" rel="cc:attributionURL">Viseo -  Abel Aoun & Michel Barret</a> est mis à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">licence Creative Commons Attribution - Pas d’Utilisation Commerciale 4.0 International</a>.<br />Fondé(e) sur une œuvre à <a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/barmic-slides/vtah-reactive.git" rel="dct:source">https://github.com/barmic-slides/vtah-reactive.git</a>.
			</section>
		</div>
	</div>
	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// Required, even if empty.
		Reveal.initialize({
            dependencies: [
                { src: 'plugin/notes/notes.js', async: true },
                { src: 'plugin/tagcloud/tagcloud.js', async: true }
            ],
            // slideNumber: 'c/t', // Absolute slide numbers (with total).
            slideNumber: true, // Enable hierarchical slide numbers
            history: true // Enable slide number in URL fragment
		});
		// Automatic fragment numbering
var fragmentNumbering = function ( event ) {
  var fragments = $(event.currentSlide).find('.fragment');
  var order = new Array(fragments.length);

  $(fragments).filter('[data-index]').each( function () {
    var index = parseInt($(this).attr('data-index')) - 1;
    if (index < 0 || index >= order.length) {
      alert('Invalid data-index: ' + index);
      return;
    }
    if (typeof order[index] == 'undefined') {
      order[index] = [ $(this) ];
    } else {
      order[index].push($(this));
    }
  });

  var index = 0;
  $(fragments).not('[data-index]').each( function () {
    while(typeof order[index] != 'undefined') {
      index = index + 1;
    }
    order[index] = [ $(this) ];
  });

  $(order).each( function (index) {
    $(this).each( function () {
      $(this).attr('data-fragment-index', index);
    })
  });
};
Reveal.addEventListener('ready', fragmentNumbering);
Reveal.addEventListener('slidechanged', fragmentNumbering);

hljs.initHighlightingOnLoad();

		function vidplay() {
			var video = document.getElementById("Video1");
			if (video.paused) {
				video.play();
			}
		}
	</script>
</body>
</html>
